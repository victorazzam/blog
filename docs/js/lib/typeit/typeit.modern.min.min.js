/*!
 * 
 * TypeIt - The most versatile animated typing utility on the planet.
 * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
 * Version: v6.1.1
 * License: GPL-2.0
 * URL: https://typeitjs.com
 * 
 */!function(b,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?exports.TypeIt=a():b.TypeIt=a()}(this,function(){return function(c){var b={};function a(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return c[d].call(e.exports,e,e.exports,a),e.l=!0,e.exports}return a.m=c,a.c=b,a.d=function(b,c,d){a.o(b,c)||Object.defineProperty(b,c,{enumerable:!0,get:d})},a.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},a.t=function(b,d){var c,e;if(1&d&&(b=a(b)),8&d)return b;if(4&d&&"object"==typeof b&&b&&b.__esModule)return b;if(c=Object.create(null),a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:b}),2&d&&"string"!=typeof b)for(e in b)a.d(c,e,function(a){return b[a]}.bind(null,e));return c},a.n=function(b){var c=b&&b.__esModule?function(){return b.default}:function(){return b};return a.d(c,"a",c),c},a.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},a.p="",a(a.s=0)}([function(I,z,y){"use strict";var p,o,b,i,k,a,e,h,g,x,c,d,C,f,D,j,l;y.r(z),p={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},o=function(){var a=this;let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.insert=(a,b)=>{this.waiting.splice(a,0,b)},this.add=function(b){let c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(b[0])?(a.waiting=a.waiting.concat(b),a):(a.waiting[c?"unshift":"push"](b),a)},this.delete=a=>(this.waiting.splice(a,1),this),this.reset=()=>(this.waiting=this.executed.concat(this.waiting),this.executed=[],this),this.executed=[],this.waiting=b,!b.length&&c&&this.add(c)},b=a=>document.createElement(a);function n(a,b){return Math.abs(Math.random()*(a+b-(a-b))+(a-b))}function m(c){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=b("style");a.id=d,a.appendChild(document.createTextNode(c)),document.head.appendChild(a)}i=a=>["textarea","input"].indexOf(a.tagName.toLowerCase())>-1,k=a=>Array.isArray(a)?a:[a],a=a=>[].slice.call(a);const H=(b,c)=>{let a=b.nextSibling;return!!a&&!a.isEqualNode(c)};e=(c,d)=>{let e=d;if(i(c))return void(c.value="".concat(c.value).concat(e));let f=a(c.childNodes).filter(a=>a.classList&&a.classList.contains("ti-cursor"));if(f=f.length?f[0]:null,"object"==typeof d&&!(d instanceof HTMLElement)){let i=d.ancestorTree.slice(0).reverse().join(" "),h=a(c.querySelectorAll("".concat(i))),g=h[h.length-1];if(g&&((b,e)=>{if(!b)return!1;let c=!1,d=[],a=b;for(;!c;)d.push(H(a,e)),(a=a.parentNode)&&!a.hasAttribute("data-typeit-id")||(c=!0);return!d.some(a=>a)})(g,f))c=g,e=d.content;else if(e=function(c){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=b(c);return d.forEach(b=>{a.setAttribute(b.name,b.value)}),a.innerHTML=e,a}(d.ancestorTree[0],d.attributes,d.content),d.ancestorTree.length>1){let b=a(c.querySelectorAll(d.ancestorTree[1]));c=b[b.length-1]}}e="object"==typeof e?e:document.createTextNode(e),c.insertBefore(e,f&&c.hasAttribute("data-typeit-id")?f:null)},h=b=>{let a=[];return a.concat.apply(a,b)},g=b=>{let a=document.implementation.createHTMLDocument("");return a.body.innerHTML=b,a.body};const G=b=>a(b.attributes).map(a=>({name:a.name,value:a.nodeValue})),q=b=>a(b.childNodes).map(a=>3===a.nodeType?a.nodeValue.split(""):a),r=(a,b,c)=>({ancestorTree:b,attributes:G(a),content:c}),F=(a,b)=>{let d=r(a,b,""),c=q(a).map((c,d)=>Array.isArray(c)?c.map((c,d)=>r(a,b,c)):c);return c.unshift(d),h(c)},t=a=>a instanceof HTMLElement&&"BR"!==a.tagName,u=function d(e){let c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=e.map(b=>{if(t(b)){if(!c)return a(b.childNodes);let d=b.parentNode,e=[b.tagName];for(;["BODY","HTML"].indexOf(d.tagName)<0;)e.push(d.tagName),d=d.parentNode;return F(b,e)}return b});return(b=h(b)).some(a=>t(a))?d(b,c):b};function v(a){let b=g(a),c=q(b);return u(c)}function w(a){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?v(a):a.split("")}x=(a,b)=>{b?a.value="":a.querySelector(".ti-cursor")&&(a.innerHTML="")},c=function(a,b){let d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=!Array.isArray(a),e=a.length;return(a=c?new Array(a).fill(0):a).map((g,f)=>{if(c)return b;let a=[b,g];return d&&(0===f&&a.push({isFirst:!0}),f+1===e&&a.push({isLast:!0})),a})},d=a=>{a.parentNode.removeChild(a)};const A=a=>3!==a.nodeType&&"BR"!==a.tagName&&!a.firstChild,B=a=>a.some(a=>A(a));C=c=>{let b=a(c.querySelectorAll("*")),e=B(b);for(;b.length&&e;){let f=!1;b.forEach(a=>{A(a)&&(d(a),f=!0)}),f&&(b=a(c.querySelectorAll("*"))),e=B(b)}return b},f=a=>(Array.isArray(a)||(a=[a/2,a/2]),{before:a[0],after:a[1],total:a[0]+a[1]}),D=function(b,a,c){let d=(a=null!==a?a:b/3)/2;return c?[n(b,b/2),n(a,d)]:[b,a]};function s(){var l=this;let{typeIt:q,element:r,id:h,options:G,queue:F=[],isAReset:H=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const z=()=>{let b=a(this.$e.childNodes).filter(a=>!a.isEqualNode(j));return u(b,!1)},t=function(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,b=l.opts.nextStringDelay;l.queue.insert(a,[l.pause,b.before]),l.queue.insert(a+c+1,[l.pause,b.after])},A=()=>{!n&&this.opts.cursor&&(m("@keyframes blink-".concat(h," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} }[data-typeit-id='").concat(h,"'] .ti-cursor { animation: blink-").concat(h," ").concat(this.opts.cursorSpeed/1e3,"s infinite; }"),h),(j=b("span")).innerHTML=g(this.opts.cursorChar).innerHTML,j.className="ti-cursor",j.setAttribute("style","display:inline;position:relative;font:inherit;color:inherit;line-height:inherit;"),this.$e.appendChild(j))};this.wait=function(a,b){this.timeouts.push(setTimeout(a,b))};const B=()=>{this.opts.strings.forEach((a,f)=>{let d=w(a,this.opts.html);this.queue.add(c(d,this.type,!0));let e=this.queue.waiting.length;if(f+1!==this.opts.strings.length){if(this.opts.breakLines)return this.queue.add([this.type,b("BR")]),void t(e);this.queue.add(c(d,this.delete)),t(e,a.length)}})},E=a=>{this.queue.reset().delete(0).add([this.pause,a.before],!0);for(let a=0;a<z().length;a++)this.queue.add([this.delete,null,{isPhantom:!0}],!0)};this.pause=function(){let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((b,c)=>{this.wait(()=>b(),a||this.opts.nextStringDelay.total)})},this.reset=function(){return this.queue.reset(),new s({typeIt:q,element:this.$e,id:h,options:this.opts,queue:this.queue.waiting,isAReset:!0})},this.init=function(){if(this.status.started)return;if(A(),!this.opts.waitUntilVisible)return this.status.started=!0,this.fire();new IntersectionObserver((a,b)=>{a.forEach(a=>{a.isIntersecting&&(this.fire(),b.unobserve(this.$e))})},{threshold:1}).observe(this.$e)},this.fire=function(){let b=this.queue.waiting.slice(),a=Promise.resolve();for(let e=0;e<b.length;e++){let c=b[e],d=[c,this.queue,q];a=a.then(()=>new Promise((a,b)=>{if(this.status.frozen)return b();this.pace=D(this.opts.speed,this.opts.deleteSpeed,this.opts.lifeLike),c[2]&&c[2].isFirst&&this.opts.beforeString(...d),this.opts.beforeStep(...d),c[0].call(this,c[1],c[2]).then(()=>{let b=this.queue.waiting.shift();return c[2]&&c[2].isPhantom?a():(c[2]&&c[2].isLast&&this.opts.afterString(...d),this.opts.afterStep(...d),this.queue.executed.push(b),a())})}))}a.then(()=>{if(this.opts.loop){let a=this.opts.loopDelay?this.opts.loopDelay:this.opts.nextStringDelay;this.wait(()=>{E(a),this.fire()},a.after)}this.status.completed=!0,this.opts.afterComplete(q)}).catch(()=>{})},this.type=function(a){return"object"!=typeof a||a.content?new Promise(b=>{this.wait(()=>(e(this.$e,a),b()),this.pace[0])}):(e(this.$e,a),Promise.resolve())},this.empty=function(){return new Promise(b=>(n?this.$e.value="":a(this.$e.childNodes).forEach(a=>{j.isEqualNode(a)||d(a)}),b()))},this.delete=function(){let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(b=>{this.wait(()=>{let c=z();return c.length&&d(c[c.length-1]),C(this.$e),a&&c.length-1>0?this.delete(!0).then(()=>b()):b()},this.pace[1])})},this.setOptions=function(a){return new Promise(b=>(this.opts=Object.assign({},this.opts,a),b()))};let j=null,n=i(r);this.status={started:!1,complete:!1,frozen:!1,destroyed:!1},this.$e=r,this.timeouts=[],this.opts=Object.assign({},p,G),this.opts.html=!n&&this.opts.html,this.opts.nextStringDelay=f(this.opts.nextStringDelay),this.opts.loopDelay=f(this.opts.loopDelay),this.queue=new o(F,[this.pause,this.opts.startDelay]),this.$e.setAttribute("data-typeit-id",h),m("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}"),x(r,n);let y=k(this.opts.strings);y=(a=>{let b=this.$e.innerHTML;return b?(this.$e.innerHTML="",this.opts.startDelete?(v(b).forEach(a=>{e(this.$e,a)}),this.queue.add([this.delete,!0]),t(1),a):[b.trim()].concat(a)):a})(y),this.opts.strings=y.map(a=>a.replace(/<\!--.*?-->/g,"")),this.opts.strings.length&&!H&&B()}j=function(a,b,c){return!!a.length&&!a.some(function(a){return a.status[b]!==c})},l=function(b){return"string"==typeof b?b=document.querySelectorAll(b):b.forEach||(b=[b]),a(b)};function E(e,f){var g=this;this.instances=l(e).map(a=>new s({typeIt:this,element:a,id:Math.random().toString(36).substring(2,15),options:f,queue:[],isAReset:!1}));const d=a=>{this.instances.forEach(b=>{a.call(this,b)})},a=function(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;d(d=>{let f="string"!=typeof a,h=f?a:d[a],i=c(e,[h,f?g:b]);d.queue.add(i)})};this.is=function(a){return j(this.instances,a,!0)},this.freeze=function(){d(a=>{a.status.frozen=!0})},this.unfreeze=function(){d(a=>{a.status.frozen&&(a.status.frozen=!1,a.fire())})},this.type=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d(b=>{let d=w(a,b.opts.html);b.queue.add(c(d,b.type,!0))}),this},this.delete=function(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a("delete",null===b,null===b?1:b),this},this.pause=function(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a("pause",b),this},this.break=function(){return a("type",b("BR")),this},this.options=function(b){return a("setOptions",b),this},this.exec=function(b){return a(b),this},this.destroy=function(){let a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.instances=this.instances.map(b=>{if(b.timeouts.forEach(a=>{clearTimeout(a)}),b.timeouts=[],a){let a=b.isInput?null:b.$e.querySelector(".ti-cursor");a&&b.$e.removeChild(a)}return b.status.destroyed=!0,b})},this.empty=function(){return a("empty"),this},this.reset=function(){return this.destroy(),this.instances=this.instances.map(a=>a.reset()),this},this.go=function(){return d(a=>{a.init()}),this}}y.d(z,"default",function(){return E})}]).default})